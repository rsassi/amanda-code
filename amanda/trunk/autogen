#! /bin/sh
# rebuilds files generated by autoconf&automake.
# autoconf 2.13 and automake 1.4 or newer are required
# arguments are forwarded to the autoreconf script.

cd `dirname $0`

touch config/config.h.in

if test x`ls -1t acinclude.m4 2>/dev/null \
	    config/gettext.m4i config/gnulib.m4i config/acinclude.m4i config/libtool.m4i |
	  sed 1q` != x"acinclude.m4"; then
    rm -f acinclude.m4
    # keep libtool.m4i first here, as it has a "serial number" comment that it wants
    # first in the file
    cat config/libtool.m4i config/gettext.m4i config/gnulib.m4i config/acinclude.m4i config/docbook-dtd.m4i config/xsltproc.m4i config/docbook-xslt-min.m4i config/docbook-xslt.m4i > acinclude.m4
fi

autoreconf --warning=syntax --warning=no-portability --force ${1+"$@"} || exit 1
